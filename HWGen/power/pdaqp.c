#include "pdaqp.h"
c_float_store pdaqp_halfplanes[25] = {
(c_float_store)3.1743088379362345e-11,
(c_float_store)1.787075293902608,
(c_float_store)0.08913138189712053,
(c_float_store)1.7870842069516661,
(c_float_store)0.04456546811224543,
(c_float_store)8.699697218276405,
(c_float_store)1.7442980355970552,
(c_float_store)0.08699784216348254,
(c_float_store)1.7442980355970552,
(c_float_store)0.04349870357946389,
(c_float_store)1.7734959966950095e-12,
(c_float_store)0.09984411526975456,
(c_float_store)1.9968823051966533,
(c_float_store)0.09984411526975456,
(c_float_store)-7.58415552581937e-12,
(c_float_store)0.49995594330222104,
(c_float_store)-4.999559433033295e-7,
(c_float_store)-1.9998437714323034,
(c_float_store)-4.999559433033295e-7,
(c_float_store)0.002499792227200315,
(c_float_store)0.0,
(c_float_store)1.9975170598764442,
(c_float_store)0.09962728292273264,
(c_float_store)0.0,
(c_float_store)0.04981339238052529,
};
c_float_store pdaqp_feedbacks[100] = {
(c_float_store)1.4551915228366852e-10,
(c_float_store)-2.523847797419876e-11,
(c_float_store)1.8189894035458565e-12,
(c_float_store)-2.523847797419876e-11,
(c_float_store)-3.268496584496461e-11,
(c_float_store)8.88132461336248e-13,
(c_float_store)0.05000000000367343,
(c_float_store)0.9999999999779603,
(c_float_store)0.05000000000367343,
(c_float_store)1.134387028756123e-11,
(c_float_store)-1.776256915600699e-11,
(c_float_store)-1.000000000081944,
(c_float_store)-4.086983507207304e-12,
(c_float_store)-1.000000000081944,
(c_float_store)-3.601785536488933e-12,
(c_float_store)4.4350914086351095e-12,
(c_float_store)-2.523847797419876e-11,
(c_float_store)1.8189894035458565e-12,
(c_float_store)0.9999999999795364,
(c_float_store)-2.0512036513764542e-11,
(c_float_store)-4.987481296993792,
(c_float_store)-0.999995012518703,
(c_float_store)-0.04987531172308726,
(c_float_store)-0.999995012518703,
(c_float_store)0.024937531170201893,
(c_float_store)-0.24937406486413244,
(c_float_store)2.493740648626858e-7,
(c_float_store)0.9975062343944773,
(c_float_store)2.493740648626858e-7,
(c_float_store)0.0012468765677707827,
(c_float_store)4.987481297256256,
(c_float_store)-4.987481297256256e-6,
(c_float_store)0.04987531172308725,
(c_float_store)-4.987481297256256e-6,
(c_float_store)-0.02493753117451125,
(c_float_store)-2.7057467377744615e-10,
(c_float_store)9.71445146547012e-17,
(c_float_store)7.860465750519907e-18,
(c_float_store)1.0000000000000002,
(c_float_store)6.423306331271306e-12,
(c_float_store)0.0,
(c_float_store)9.71445146547012e-17,
(c_float_store)1.463672932855431e-17,
(c_float_store)0.0,
(c_float_store)4.1253892663073444e-17,
(c_float_store)0.0,
(c_float_store)2.493740648626858e-7,
(c_float_store)0.9975062343944773,
(c_float_store)0.0,
(c_float_store)0.0012468765684096605,
(c_float_store)0.0,
(c_float_store)-4.987481297256256e-6,
(c_float_store)0.04987531172308725,
(c_float_store)0.0,
(c_float_store)-0.02493753117451123,
(c_float_store)0.0,
(c_float_store)-0.999995012518703,
(c_float_store)-0.04987531172308726,
(c_float_store)0.0,
(c_float_store)0.024937531166939586,
(c_float_store)-6.373738870024681e-8,
(c_float_store)-0.9999999999999362,
(c_float_store)-19.99999974351787,
(c_float_store)-0.9999999999999362,
(c_float_store)1.723261533470577e-10,
(c_float_store)-3.3287506084889174e-9,
(c_float_store)1.3322676295501878e-15,
(c_float_store)-3.4924596548080444e-10,
(c_float_store)1.3322676295501878e-15,
(c_float_store)2.4965662870357624e-10,
(c_float_store)6.411989166950676e-8,
(c_float_store)-6.411989356594014e-14,
(c_float_store)19.99999974351786,
(c_float_store)-6.411989356594014e-14,
(c_float_store)-1.8460788453467103e-10,
(c_float_store)-7.275957614183426e-11,
(c_float_store)1.0755285551056204e-16,
(c_float_store)1.27675647831893e-15,
(c_float_store)1.0000000000000002,
(c_float_store)-4.661798724825417e-12,
(c_float_store)1.4551915228366852e-10,
(c_float_store)-2.523847797419876e-11,
(c_float_store)1.8189894035458565e-12,
(c_float_store)0.0,
(c_float_store)-2.4442670110147446e-11,
(c_float_store)8.88132461336248e-13,
(c_float_store)0.05000000000367343,
(c_float_store)0.9999999999779603,
(c_float_store)0.0,
(c_float_store)1.0679790385381693e-11,
(c_float_store)-1.776256915600699e-11,
(c_float_store)-1.000000000081944,
(c_float_store)-4.086983507207304e-12,
(c_float_store)0.0,
(c_float_store)4.1799896877137144e-13,
(c_float_store)4.4350914086351095e-12,
(c_float_store)-2.523847797419876e-11,
(c_float_store)1.8189894035458565e-12,
(c_float_store)0.0,
(c_float_store)-3.080070436504073e-11,
};
c_int pdaqp_hp_list[11] = {
(c_int)0,
(c_int)4,
(c_int)3,
(c_int)4,
(c_int)2,
(c_int)2,
(c_int)1,
(c_int)0,
(c_int)3,
(c_int)0,
(c_int)1,
};
c_int pdaqp_jump_list[11] = {
(c_int)1,
(c_int)2,
(c_int)3,
(c_int)0,
(c_int)0,
(c_int)2,
(c_int)3,
(c_int)0,
(c_int)0,
(c_int)0,
(c_int)0,
};
void pdaqp_evaluate(c_float* parameter, c_float* solution){
    int i,j,disp;
    int id,next_id;
    c_float val;
    id = 0;
    next_id = id+pdaqp_jump_list[id];
    while(next_id != id){
        // Compute halfplane value
        disp = pdaqp_hp_list[id]*(PDAQP_N_PARAMETER+1);
        for(i=0, val=0; i<PDAQP_N_PARAMETER; i++)
            val += parameter[i] * pdaqp_halfplanes[disp++];
        id = next_id + (val <= pdaqp_halfplanes[disp]);
        next_id = id+pdaqp_jump_list[id];
    }
    // Leaf node reached -> evaluate affine function
    disp = pdaqp_hp_list[id]*(PDAQP_N_PARAMETER+1)*PDAQP_N_SOLUTION;
    for(i=0; i < PDAQP_N_SOLUTION; i++){
        for(j=0, val=0; j < PDAQP_N_PARAMETER; j++)
            val += parameter[j] * pdaqp_feedbacks[disp++];
        val += pdaqp_feedbacks[disp++];
        solution[i] = val;
    }
}
